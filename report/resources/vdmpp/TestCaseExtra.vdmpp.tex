\begin{vdmpp}[breaklines=true]
class TestCaseExtra

 -- Class obtained from the Vending Machine example of MFES
 
 
 operations
 -- Simulates assertion checking by reducing it to pre-condition checking.
 -- If 'arg' does not hold, a pre-condition violation will be signaled.
(*@
\label{assertTrue:9}
@*)
 protected assertTrue: bool ==> ()
 assertTrue(arg) == 
  return 
 pre arg;
  
 -- Simulates assertion checking by reducing it to post-condition checking.
 -- If values are not equal, prints a message in the console and generates 
 -- a post-conditions violation.
(*@
\label{assertEqual:17}
@*)
 protected assertEqual: ? * ? ==> ()
 assertEqual(expected, actual) == 
  if expected <> actual then (*@\vdmnotcovered{(}@*)
     (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"Actual value ("}@*));
     (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{actual}@*)); 
     (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{") different from expected ("}@*));
     (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{expected}@*));
     (*@\vdmnotcovered{IO`println}@*)((*@\vdmnotcovered{")\textbackslash n"}@*))
  )
 post expected = actual
 
end TestCaseExtra


\end{vdmpp}
